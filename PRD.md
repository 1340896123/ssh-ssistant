# SSH 远程连接助手
Stack: Tauri + Vite + Vue 3 + TypeScript + TailwindCSS 4.1

## 核心功能模块

### 1. 连接管理 (Connection Management)
- **CRUD 操作**：支持创建、编辑、删除 SSH 连接配置。
- **基础认证**：支持主机、端口、用户名、密码方式认证。
- **跳板机支持 (Proxy Jump)**：支持配置跳板机（Bastion Host），实现内网穿透连接。
- **分组管理**：支持连接的分组管理，方便归类。
- **交互体验**：
  - 支持拖拽排序（连接与分组）。
  - **JSON 导入**：支持将连接配置的 JSON 文件拖入应用自动导入。

### 2. 会话管理 (Session Management)
- **多标签页**：支持多会话并发，采用标签页 (Tabs) 形式展示，状态清晰可见。
- **会话隔离**：每个会话独立运行，互不干扰（即使是同一主机的多个连接）。
- **会话构成**：每个会话包含独立的终端、文件管理器和 AI 助手。

### 3. 终端系统 (Terminal System)
- **核心内核**：基于 xterm.js 构建的高性能终端。
- **Zmodem 支持**：完美支持 `rz` / `sz` 命令，实现终端内的快速文件上传下载。
- **智能补全**：
  - **传统补全**：基于当前上下文的路径和命令补全。
  - **AI 补全**：智能预测和建议命令行输入。
- **历史记录**：完整的命令输入历史支持。
- **AI 联动**：可直接执行 AI 助手生成的命令。

### 4. 文件管理 (File Management)
- **基础操作**：浏览、重命名、删除、复制路径/名称。
- **传输能力**：
  - **递归传输**：支持文件夹的递归上传和下载。
  - **拖拽上传**：支持将本地文件/文件夹直接拖入文件列表进行上传。
- **远程编辑 (Edit Remote File)**：
  - 支持双击远程文件自动下载并使用本地默认编辑器打开。
  - 监听本地文件保存事件，自动同步回传至服务器。

### 5. AI 智能助手 (AI Assistant)
- **智能对话**：支持多轮对话，解答技术问题。
- **Agent 能力 (工具调用)**：
  - **执行命令**：可自主运行查看系统状态、日志等命令。
  - **文件操作**：可读取配置文件或写入简单的脚本文件。
  - **搜索能力**：(如已实现) 支持相关信息的检索。
- **安全防护**：内置 **Dangerous Command Guard**，识别高危命令（如 `rm -rf /`）并强制进行二次确认或阻断。
- **配置管理**：支持自定义 API Base URL、API Key 和 Model Name。

### 6. 配置与国际化 (Settings & I18n)
- **本地持久化**：使用 SQLite/JSON 存储连接信息和应用配置。
- **界面定制**：支持中英文语言切换、深色/浅色主题切换。

## 技术架构
- **后端**：Rust + Tauri (提供系统级能力、SSH 协议处理、本地数据库)
- **前端**：TypeScript + Vite + Vue.js (UI 交互、状态管理)
- **样式**：TailwindCSS 4.1 (原子化 CSS)
- **数据流**：使用 Pinia 管理 Connections, Sessions, Transfers 等状态。

## 核心流程说明
- **会话启动**：必须先创建连接配置，点击连接后初始化会话，加载终端和文件管理器。
- **文件编辑**：用户双击文件 -> 下载至临时目录 -> 调用系统打开 -> 监听文件变动 -> 自动上传。
- **AI 协作**：AI 根据用户指令，判断是否需要调用工具（如 `run_command`），执行后将结果反馈给 LLM 进行总结。